{"ast":null,"code":"var _jsxFileName = \"/Users/nathanmajumder/crossword-react-app/crossword-app/src/components/CrosswordApp.jsx\";\nimport React, { StrictMode, Component } from 'react';\nimport CrosswordPage from './CrosswordPage.jsx';\nimport CrosswordHeaderPage from './CrosswordHeaderPage.jsx';\nimport LoginPage from './LoginPage.jsx';\nimport api from '../libs/api.js';\n\nclass CrosswordApp extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      crosswords: [],\n      selectedCrossword: null,\n      loginPageOpen: true\n    };\n    this.loadCrosswords = this.loadCrosswords.bind(this);\n    this.crosswordSelected = this.crosswordSelected.bind(this);\n    this.crosswordDeselected = this.crosswordDeselected.bind(this);\n  }\n\n  async loadCrosswords() {\n    let response;\n    let requestSuccess = false;\n\n    try {\n      console.log('Getting all crosswords...');\n      response = await api.getAllCrosswords();\n      console.log(response);\n      requestSuccess = response.status === 200;\n    } catch (error) {\n      requestSuccess = false;\n    }\n\n    if (requestSuccess) {\n      let crosswords = response.data.sort((a, b) => a.date < b.date ? 1 : -1);\n      this.setState({\n        crosswords: crosswords\n      });\n    }\n  }\n\n  loginPageClosed() {\n    this.setState({\n      loginPageOpen: false\n    });\n  }\n\n  crosswordSelected(crosswordId) {\n    let selectedCrossword = this.state.crosswords.find(c => c.id === crosswordId);\n    this.setState(state => {\n      return {\n        selectedCrossword: selectedCrossword\n      };\n    });\n  }\n\n  crosswordDeselected() {\n    this.setState(state => {\n      return {\n        selectedCrossword: null\n      };\n    });\n  }\n\n  async componentWillMount() {\n    await this.loadCrosswords();\n  }\n\n  render() {\n    const {\n      crosswords,\n      selectedCrossword,\n      loginPageOpen\n    } = this.state;\n\n    if (loginPageOpen) {\n      return /*#__PURE__*/React.createElement(StrictMode, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(LoginPage, {\n        closeSelected: this.loginPageClosed,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }\n      }));\n    } else if (selectedCrossword) {\n      return /*#__PURE__*/React.createElement(StrictMode, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(CrosswordPage, {\n        crossword: selectedCrossword,\n        backSelected: this.crosswordDeselected,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }\n      }));\n    } else {\n      return /*#__PURE__*/React.createElement(StrictMode, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(CrosswordHeaderPage, {\n        crosswords: crosswords,\n        crosswordSelected: this.crosswordSelected,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }\n      }));\n    }\n  }\n\n}\n\nCrosswordApp.propTypes = {};\nexport default CrosswordApp;","map":{"version":3,"sources":["/Users/nathanmajumder/crossword-react-app/crossword-app/src/components/CrosswordApp.jsx"],"names":["React","StrictMode","Component","CrosswordPage","CrosswordHeaderPage","LoginPage","api","CrosswordApp","constructor","props","state","crosswords","selectedCrossword","loginPageOpen","loadCrosswords","bind","crosswordSelected","crosswordDeselected","response","requestSuccess","console","log","getAllCrosswords","status","error","data","sort","a","b","date","setState","loginPageClosed","crosswordId","find","c","id","componentWillMount","render","propTypes"],"mappings":"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","sourcesContent":["import React, { StrictMode, Component } from 'react'\nimport CrosswordPage from './CrosswordPage.jsx'\nimport CrosswordHeaderPage from './CrosswordHeaderPage.jsx'\nimport LoginPage from './LoginPage.jsx'\nimport api from '../libs/api.js'\n\nclass CrosswordApp extends Component {\n    constructor (props) {\n        super(props)\n\n        this.state = {\n            crosswords: [],\n            selectedCrossword: null,\n            loginPageOpen: true\n        }\n\n        this.loadCrosswords = this.loadCrosswords.bind(this)\n        this.crosswordSelected = this.crosswordSelected.bind(this)\n        this.crosswordDeselected = this.crosswordDeselected.bind(this)\n    }\n\n    async loadCrosswords () {\n        let response\n        let requestSuccess = false\n        try {\n            console.log('Getting all crosswords...')\n            response = await api.getAllCrosswords()\n            console.log(response)\n            requestSuccess = response.status === 200\n        } catch (error) {\n            requestSuccess = false\n        }\n\n        if (requestSuccess) {\n            let crosswords = response.data.sort((a, b) => (a.date < b.date) ? 1 : -1)\n            this.setState({\n                crosswords: crosswords\n            })\n        }\n    }\n\n    loginPageClosed () {\n        this.setState({\n            loginPageOpen: false\n        })\n    }\n\n    crosswordSelected (crosswordId) {\n        let selectedCrossword = this.state.crosswords.find(c => c.id === crosswordId)\n        this.setState((state) => {\n            return {\n                selectedCrossword: selectedCrossword\n            }\n        })\n    }\n\n    crosswordDeselected () {\n        this.setState((state) => {\n            return {\n                selectedCrossword: null\n            }\n        })\n    }\n    \n\n    async componentWillMount () {\n        await this.loadCrosswords()\n    }\n\n    render () {\n        const { crosswords, selectedCrossword, loginPageOpen } = this.state\n        if (loginPageOpen) {\n            return (\n                <StrictMode>\n                    <LoginPage closeSelected={this.loginPageClosed} />\n                </StrictMode>\n            )\n        } else if (selectedCrossword) {\n            return (\n                <StrictMode>\n                    <CrosswordPage \n                        crossword={selectedCrossword} \n                        backSelected={this.crosswordDeselected}/>\n                </StrictMode>\n            )\n        } else {\n            return (\n                <StrictMode>\n                    <CrosswordHeaderPage \n                        crosswords={crosswords}\n                        crosswordSelected={this.crosswordSelected} />\n                </StrictMode>\n            )\n        }\n    }\n}\n\nCrosswordApp.propTypes = {}\n\nexport default CrosswordApp"]},"metadata":{},"sourceType":"module"}